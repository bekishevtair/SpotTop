function initComponents(){const t=$(".js-import"),e=$("#js-path").val();for(let n=0;n<t.length;n++){const i=$(t[n]),a=i.data("import");$.get(`${e}/${a}.html`,{_:$.now()}).done(t=>{let n=$(t);const a=e.split("/");if(a.length>1){let t="";a.forEach(e=>t+=".."===e?"../":""),n=replaceNestedLinks(n,t,"src"),n=replaceNestedLinks(n,t,"href")}i.replaceWith(n)})}}function initDefaultEvents(){formSubmitA(),formSubmitB(),clearInput(),txtPrevent(),numPrevent(),toggleSwitcher(),toggleNav(),scrollToSection()}function replaceNestedLinks(t,e,n){const i=t.find(`[${n}]`);if(i.length>0)for(let t=0;t<i.length;t++){const a=$(i[t]),o=a.attr(n).split("https://").length>1||a.attr(n).split("http://").length>1,l=!1!==a.data("replace");if(!o&&l){const t=e+a.attr(n);a.attr(n,"..//"===t?"../":t)}}return t}function formSubmitA(){$(".js-form-submit-a").on("click tap",function(t){validateFields()?$(this).attr("disabled","disabled"):t.preventDefault()})}function formSubmitB(){$(".js-form-submit-b").on("click tap",function(t){t.preventDefault();const e=$(this).parents("form");validateFields()&&($(this).attr("disabled"),sendEmail(()=>e.submit()))})}function initFields(){$(".js-url-link").attr("type","text").val(window.location.href).attr("type","hidden")}function clearInput(){$("form input").on("focus",function(){$(this).removeClass("error warning")})}function txtPrevent(){$(document).on("keypress",".js-text",function(t){const e=t.key;e>=0&&e<=9&&t.preventDefault()})}function numPrevent(){$(document).on("keypress",".js-numbers",function(t){const e=t.key,n=e>=0&&e<=9,i=($(this).data("allow")||"").split(",").includes(e);n||i||t.preventDefault()})}function sendEmail(t){const e=`../public/email/send.php?email=${$('input[name="email"]').val()}&name=${$('input[name="firstName"]').val()}&surname=${$('input[name="lastName"]').val()}&language=${$("html").attr("lang")}`;$.ajax({url:e}).done(function(){t()})}function validateFields(){const t=$("form").find("[required]");let e=!0;for(let n=0;n<t.length;n++){const i=$(t[n]),a=i.attr("type"),o=i.val();switch(a){case"email":e=isEmail(o);break;default:e=isLength(o)}e?i.removeClass("error"):i.addClass("error")}return e}function isLength(t){return t.length>1}function isEmail(t){return new RegExp("[a-zA-Z0-9]+@[a-zA-Z]+.[a-z]{2,3}").test(t)}function toggleSwitcher(){$(document).on("click tap",".js-switcher",function(t){t.preventDefault();const e=$("html").attr("lang"),n=$(this).attr("href").replace("/",""),i=window.location.href.split(`/${e}/`),a=`${i[0]}/${n}/${i[1]}`;n!==e&&(window.location.href=a)})}function toggleNav(){$(document).on("click tap",".js-toggle-nav",function(){$(".js-toggle-nav, #nav").toggleClass("active")})}function scrollToSection(){$(document).on("click tap",".js-anchor-link",function(t){t.preventDefault();const e=$(this).attr("href"),n=$(".header").height(),i=$(e).offset().top-n;$(".js-toggle-nav, #nav").removeClass("active"),$("html, body").animate({scrollTop:i},500)})}$(()=>{initComponents(),initDefaultEvents(),initFields()});